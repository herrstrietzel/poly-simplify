"use strict";function t(t){return function(t){let e=[{type:"M",values:t[0].values}],n=e[0];for(let a=1,l=t.length;a<l;a++){let l=t[a],{type:r,values:s}=l,i=s.length,h=n.values,o=h.length,[p,u]=[s[i-2],s[i-1]],[f,y]=[h[o-2],h[o-1]];switch(r){case"H":n={type:"L",values:[s[0],y]};break;case"V":n={type:"L",values:[f,s[0]]};break;case"z":case"Z":n={type:"Z",values:[]};break;case"M":n={type:"M",values:[s[0],s[1]]};break;default:n={type:"L",values:[p,u]}}e.push(n)}return e}(n(function(t,e=!0){const n={77:2,109:2,65:7,97:7,67:6,99:6,72:1,104:1,76:2,108:2,81:4,113:4,83:4,115:4,84:2,116:2,86:1,118:1,90:0,122:0};let a=new Set([...Object.keys(n).map(Number)]);const l=new Set([5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279]);function r(t){return 10===t||13===t||8232===t||8233===t||44===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&l.has(t)>=0}function s(t){return a.has(t)}let i,h=0,o=t.length,p="",u=[],f=-1,y="",c=!1,x=!1,g=0,d=0,m=0,M=!1,v=[];const b=()=>{M&&("M"===p?p="L":"m"===p&&(p="l"),u.push({type:p,values:[]}),f++,d=0,M=!1)},w=(t=!1)=>{(t?g>0:""!==y)&&(e&&-1===f&&(i="Pathdata must start with M command",v.push(i),p="M",u.push({type:p,values:[]}),m=2,d=0,f++),"A"===p||"a"===p?(y=A(),u[f].values.push(...y)):(e&&y[1]&&"."!==y[1]&&"0"===y[0]&&(i="Leading zeros not valid: "+y,v.push(i)),u[f].values.push(+y)),d++,y="",g=0,M=d>=m)},A=()=>{let t=y.length,e=!1;return 3===d&&2===t||4===d&&t>1?(y=[+y[0],+y[1]],e=!0,d++):3===d&&t>=3&&(y=[+y[0],+y[1],+y.substring(2)],e=!0,d+=2),e?y:[+y]},P=()=>{if(e){let t=f>0?u[f]:0,e=t?t.values.length:0;(e&&e<m||e&&e>m||("z"===p||"Z"===p)&&e>0)&&(i=`Pathdata commands in "${p}" (segment index: ${f}) don't match allowed number of values: ${m-e}/${m}`,v.push(i))}};for(;h<o;){let e=t[h],a=t.charCodeAt(h);if(s(a)){""!==y&&(u[f].values.push(+y),d++,y=""),P(),p=e,m=n[a];let t="M"===p||"m"===p;f>0&&("z"===u[f].type||"Z"===u[f].type)&&!t&&(u.push({type:"m",values:[0,0]}),f++),u.push({type:p,values:[]}),f++,x=!1,g=0,d=0,M=!1,h++}else if(r(a))w(),x=!0,c=!1,h++;else{if(h===o-1){y+=e,w(),x=!1,c=!1,P();break}if(!c&&!x&&45===a||!c&&46===a){let t=46===a;w(t),b(),t&&g++}else b();y+=e,c=69===a||101===a,x=!1,h++}}if(P(),u[0].type="M",e&&v.length){if(i="Invalid path data:\n"+v.join("\n"),"log"!==e)throw new Error(i);console.warn(i)}return u}(t),!1))}function e(t){let e=[{x:t[0].values[0],y:t[0].values[1]}];for(let n=1,a=t.length;n<a;n++){let{values:a}=t[n];if(a.length){let t=a.slice(-2);e.push({x:t[0],y:t[1]})}}return e}function n(t,e=!1){let n=t[0].values,a=n[0],l=n[1],r=a,s=l;for(let n=1,i=t.length;n<i;n++){let i=t[n],{type:h,values:o}=i,p=e?h.toLowerCase():h.toUpperCase();if(h!==p)switch(h=p,i.type=h,h){case"a":case"A":o[5]=e?o[5]-a:o[5]+a,o[6]=e?o[6]-l:o[6]+l;break;case"v":case"V":o[0]=e?o[0]-l:o[0]+l;break;case"h":case"H":o[0]=e?o[0]-a:o[0]+a;break;case"m":case"M":e?(o[0]-=a,o[1]-=l):(o[0]+=a,o[1]+=l),r=e?o[0]+a:o[0],s=e?o[1]+l:o[1];break;default:if(o.length)for(let t=0;t<o.length;t++)o[t]=e?o[t]-(t%2?l:a):o[t]+(t%2?l:a)}let u=o.length;switch(h){case"z":case"Z":a=r,l=s;break;case"h":case"H":a=e?a+o[0]:o[0];break;case"v":case"V":l=e?l+o[0]:o[0];break;case"m":case"M":r=o[u-2]+(e?a:0),s=o[u-1]+(e?l:0);default:a=o[u-2]+(e?a:0),l=o[u-1]+(e?l:0)}}return t[0].type="M",t=t.map((t=>({type:t.type,values:t.values.map((t=>+t.toFixed(9)))})))}function a(t,e=-1,a=!1,l=!1){return l&&(t=function(t){let e,n=[{type:"M",values:t[0].values}],a=n[0],l={x:t[0].values[0],y:t[0].values[1]},r=.01;for(let s=1,i=t.length;s<i;s++){let i=t[s],{type:h,values:o}=i,p=o.length?o.slice(-2):[];e={x:p[0],y:p[1]};let u=Math.abs(e.x-l.x),f=Math.abs(e.y-l.y),y=(u+f)/2*r;switch(h){case"L":a=0===f||f<y&&u>y?{type:"H",values:[o[0]]}:0===u||f>y&&u<y?{type:"V",values:[o[1]]}:i;break;case"M":case"Z":case"z":a={type:h,values:p};break;default:a={type:"L",values:p}}l={x:p[0],y:p[1]},n.push(a)}return n}(t)),a&&(t=function(t){return n(t,!0)}(t)),e>-1&&(t=t.map((t=>({type:t.type,values:t.values.map((t=>+t.toFixed(e)))})))),t}function l(t,e=1){let n=e>1,a=!n&&0!==e;"l"===(t=JSON.parse(JSON.stringify(t)))[1].type&&a&&(t[0].type="m");let l="";l=n?`${t[0].type} ${t[0].values.join(" ")}\n`:`${t[0].type}${t[0].values.join(" ")}`;for(let e=1,r=t.length;e<r;e++){let r=t[e-1],s=t[e],{type:i,values:h}=s;if(!a||"A"!==i&&"a"!==i||(h=[h[0],h[1],h[2],`${h[3]}${h[4]}${h[5]}`,h[6]]),i=r.type===s.type&&"m"!==s.type.toLowerCase()&&a||("m"===r.type&&"l"===s.type||"M"===r.type&&"l"===s.type||"M"===r.type&&"L"===s.type)&&a?" ":s.type,a){let t="",e=!1;for(let n=0,a=h.length;n<a;n++){let a=h[n],l=a.toString(),r=l.includes(".")&&Math.abs(a)<1;r&&e&&(l=l.replace(/^0\./,".")),!(n>0)||e&&r||(t+=" "),t+=l,e=r}l+=`${i}${t}`}else l+=n?`${i} ${h.join(" ")}\n`:`${i}${h.join(" ")}`}return a&&(l=l.replace(/ 0\./g," .").replace(/ -/g,"-").replace(/-0\./g,"-.").replace(/Z/g,"z")),l}function r(n){if(!n||!n.length)return[];const a=t=>{let e=[];for(let n=1,a=t.length;n<a;n+=2)e.push({x:t[n-1],y:t[n]});return e};let l=n[0].x||!1;if(l&&n.length>0&&"object"==typeof n[0]&&n[0].constructor!==Object&&(t=>{let e=t.length,n=new Array(e);for(let a=0;a<e;a++)n[a]={x:t[a].x,y:t[a].y}})(n),l)return n;let r="string"==typeof n,s=!1;if(!!r&&(n.startsWith("M")||n.startsWith("m"))){0;let a=t(n),l=function(t){let e=[];try{t.map(((t,e)=>"m"===t.type.toLowerCase()?e:-1)).filter((t=>-1!==t))}catch{console.log("catch",t)}let n=t.map(((t,e)=>"m"===t.type.toLowerCase()?e:-1)).filter((t=>-1!==t));return 1===n.length?[t]:(n.forEach(((a,l)=>{e.push(t.slice(a,n[l+1]))})),e)}(a);s=l.length>1;let r=[];return s?l.forEach((t=>{let n=e(t);r.push(n)})):r=e(a),r}if(!!r&&(n.startsWith("{")||n.startsWith("["))){try{n=JSON.parse(n)}catch{n=JSON.parse(n.replace(/([{,])\s*(\w+)\s*:/g,'$1"$2":'))}r=!1}if(r){if((n=n.trim().split(/,| /).filter(Boolean).map(Number)).filter((t=>isNaN(t))).length)return console.warn("input doesn't contain point data â€“ please, check your input structure for syntax errors"),[]}let i=Array.isArray(n),h=i&&2===n[0].length,o=!h&&i&&Array.isArray(n[0]),p=o&&2===n[0][0].length,u=o&&!p&&n[0].length>2&&!n[0][0].hasOwnProperty("x");if(u||p){let t=[];n.forEach((e=>{let n=u?a(e):e.map((t=>({x:t[0],y:t[1]})));t.push(n)})),n=t}else h&&(n=n.map((t=>({x:t[0],y:t[1]}))));
//!Array.isArray(pts[0]
return!Array.isArray(n[0])&&!n[0].hasOwnProperty("x")&&(n=a(n)),n}function s(t,e){return(e.x-t.x)**2+(e.y-t.y)**2}function i(t){let e=s(t[0],t[1]);for(let n=3,a=t.length;n<a;n++){let a=s(t[n-1],t[n]);if(100/e*Math.abs(e-a)>.1)return!1;e=a}return!0}function h(t,e=null){if(0===t.length)return t;if(e=null===e?function(t,e=24){let n=o(t,e),{width:a,height:l}=u(n),r=((a+l)/2)**2,i=s(t[0],t[t.length-1]);return i<r}(t):e,!e)return t;let n=0;for(let e=1,a=t.length;e<a;e++){let a=t[e],l=t[n];(a.x<l.x||a.x===l.x&&a.y<l.y)&&(n=e)}return t.slice(n).concat(t.slice(0,n))}function o(t,e=48){if(!Array.isArray(t)||t.length<=e)return t;let n=t.length,a=n/e,l=[t[0]];for(let n=0;n<e;n++)l.push(t[Math.floor(n*a)]);let r=l.length;return l[r-1]!==t[n-1]&&(l[r-1]=t[n-1]),l}function p(t,e=!0){let n=0;for(let e=0,a=t.length;a&&e<a;e++){let l=t[e===a-1?0:e+1];n+=t[e].x*l.y*.5-l.x*t[e].y*.5}return e?Math.abs(n):n}function u(t){let e=t.map((t=>t.x)),n=t.map((t=>t.y)),a=Math.min(...e),l=Math.max(...e),r=Math.min(...n),s=Math.max(...n);return{x:a,left:a,right:l,y:r,top:r,bottom:s,width:l-a,height:s-r}}function f(t){const e=(t,e,n)=>{const a=(t,e,n,a)=>{let[l,r,s,i]=[t.x,e.x,n.x,a.x],[h,o,p,u]=[t.y,e.y,n.y,a.y],[f,y]=[l-r,s-i],[c,x]=[h-o,p-u],g=f*x-c*y;if(0===g)return null;let d=l*o-h*r,m=s*u-p*i,M=(d*y-f*m)/g,v=(d*x-c*m)/g;return M<Math.min(l,r)||M>Math.max(l,r)||M<Math.min(s,i)||M>Math.max(s,i)||v<Math.min(h,o)||v>Math.max(h,o)||v<Math.min(p,u)||v>Math.max(p,u)?null:{x:M,y:v}},l=(t,e)=>(t.x-e.x)**2+(t.y-e.y)**2,r=t.length;let s=[],i=l(e,n),h=i/1e3;for(let o=0;o<r;o++){let p=t[o],u=t[(o+1)%r];if(u===n)continue;let f=a(e,n,p,u);if(f){const t=l(e,f);t>h&&t<i&&s.push({pt0:e,pt1:n,startPoint:p,intersectionPoint:f,endPoint:u,lengthSq:t})}}return s.sort(((t,e)=>t.lengthSq-e.lengthSq)),s},n=t.length;if(n<3)return t;for(let e=0;e<n;e++)t[e].next=(e+1)%n;const a=[];let l=t[0],r=t[l.next];a.push(l);for(let s=0;s<2*n;s++){const n=e(t,l,r);if(0===n.length)a.push(r),l=r,r=t[r.next];else{const t=n[0];l=t.intersectionPoint,r=t.endPoint,a.push(l)}if(a.length>2&&l.x===a[0].x&&l.y===a[0].y)break}const s=a[0],i=a[a.length-1];return s.x===i.x&&s.y===i.y&&a.pop(),a}function y(t){if(!function(t){const e=(t,e)=>t>=-180&&t<=180&&e>=-90&&e<=90;let n=[t[0],t[Math.floor(t.length/2)],t[t.length-1]];return n.every((t=>e(t.x,t.y)))}(t))return t;const e=t=>t*(Math.PI/180),n=t=>{let n=Math.max(-85.05112878,Math.min(85.05112878,t.y)),a=t.x;return{x:(e(a)+Math.PI)/(2*Math.PI),y:(Math.PI-Math.log(Math.tan(Math.PI/4+e(n)/2)))/(2*Math.PI)}};let a=t.length,l=[];for(let e=0;e<a;e++)l.push(n(t[e]));let r=u(t),s=u(l),i=r.width/s.width,h=s.x*i-r.x,o=s.y*i-r.y;for(let t=0;t<a;t++)l[t].x=l[t].x*i-h,l[t].y=l[t].y*i-o;return l}function c(t,e,n="points",r=!1,i=-1,h=!1,p=!1,f=!1,y=1,c=0,x=0,g=!1,d=0,m=0,M=!1){let v={data:[],ptsArr:[],countOriginal:0,count:0,areaOriginal:0,areaptsSmp:0,areaDiff:0,isPolygon:[]};e=function(t,e=1,n=0,a=0,l=!1,r=0,s=0){if(1===e&&0===r&&0===s&&0===n&&0===a&&!1===l)return t;let i,h,o,p,f=Array.isArray(t[0]),y=f?t:[t],c=f?t.flat():t;return({x:i,y:h,width:o,height:p}=u(c)),y.forEach(((t,u)=>{e=r?r/o:s?s/p:e,s&&p*e>s&&(e=s/p),l&&(n=-i,a=-h);for(let l=0,r=t.length;l<r;l++){let r=t[l];y[u][l]={x:(r.x+n)*e,y:(r.y+a)*e}}})),y}(e,y,c,x,g,d,m);for(let n=0,a=e.length;n<a;n++){let a=t[n],l=e[n],i=a.length;v.countOriginal+=i;let h=l.length;v.count+=h,v.ptsArr.push(l);let p=!1;if(r){let t=o(a,32),{width:e,height:n}=u(t),l=(Math.max(e,n)/a.length)**2;p=s(a[0],a[a.length-1])<l,v.isPolygon.push(p)}}if(i>-1&&i<=3){let t=e.flat(),n=o(t,24),{width:a,height:l}=u(n),r=(a+l)/2;if(r>500)i=0;else{let e=t.length/r,n=r/1e3,a=Math.ceil(1/n).toString().length,l=Math.ceil(e).toString().length,s=Math.ceil((a+l)/2);i=i>-1&&i<s?s:i}}switch(n=n?n.toLowerCase():"points"){case"points":case"pointstring":case"pointsnested":case"json":i>-1&&(v.ptsArr=v.ptsArr.map((t=>t.map((t=>({x:+t.x.toFixed(i),y:+t.y.toFixed(i)})))))),"pointstring"===n?v.data=v.ptsArr.map((t=>t.map((t=>`${t.x} ${t.y}`)).join(" "))):"points"===n?(M||(v.ptsArr=v.ptsArr[0]),v.data=v.ptsArr):"pointsnested"===n?(v.data=v.ptsArr.map((t=>t.map((t=>[t.x,t.y])))),M||(v.data=v.data[0],v.ptsArr=v.ptsArr[0])):"json"===n&&(M||(v.ptsArr=v.ptsArr[0]),v.data=JSON.stringify(v.ptsArr));break;case"pathdata":case"path":let t=[];v.ptsArr.forEach(((e,n)=>{let a=[{type:"M",values:[e[0].x,e[0].y]},...e.slice(1).map((t=>({type:"L",values:[t.x,t.y]})))];v.isPolygon[n]&&a.push({type:"Z",values:[]}),t.push(...a)})),t=a(t,i,h,p),"path"===n?(v.data=[l(t,f?1:0)],M||(v.data=v.data[0])):v.data=t}return v}function x(t,e=1,n=!0){if(t.length<3)return t;let a=t.length,l=t[0],r=t[a-1];l.x===r.x&&l.y===r.y&&(t.pop(),a--,r=t[a-1]);let s,i,h=[l],f=l,y=u(o(t,32)),{width:c,height:x}=y,g=(c+x)/2/(e?5*a*e:250),d=2.5*g,m=null,M=null;for(let e=2;e<a;e++){s=t[e-1],i=t[e];let n=e===a-1;if(s.x===f.x&&s.y===f.y||s.x===i.x&&s.y===i.y)continue;let r=f.x===s.x,o=f.y===s.y;if(r||o){let t=s.x===i.x,e=s.y===i.y;if(r&&t||o&&e){if(!n)continue;if(n&&l.x!==i.x&&l.y!==i.y){h.push(i);continue}}}m=s.x-f.x,M=s.y-f.y;let u=i.x-s.x,y=i.y-s.y,c=Math.abs(m*y-M*u);if(c>g&&c<d){p([f,s,i])<g&&(c=0)}if(!r&&!o&&c<g){if(!n)continue;if(n&&l.x!==i.x&&l.y!==i.y){let t=i.x-l.x,e=i.y-l.y;Math.abs(t*y-e*u)>g&&h.push(i);continue}}else h.push(s),n&&l.x!==i.x&&l.y!==i.y&&h.push(i);f=s}if(h.length>2&&(l.x===r.x&&l.y!==r.y||l.x!==r.x&&l.y===r.y));else if(n&&l.x!==r.x&&l.y!==r.y){i=h[1];let t=i.x-r.x,e=i.y-r.y,n=i.x-l.x,a=i.y-l.y;Math.abs(t*a-e*n)<g&&h.shift()}return h}function g(t,e=.9,n=0,a=0){let l=!1;if("string"==typeof e){l=!0,e=parseFloat(e)}if(t.length<4||(!l&&e)>=1)return t;let r,i=t[0],h=[i],p=e;if(!l){if(p=1-e,!n&&!a){let e=o(t,12);({width:n,height:a}=u(e))}p=(p*((n+a)/2/25))**2,e>.5&&(p/=10)}for(let e=1,n=t.length;e<n;e++){r=t[e],s(i,r)>p&&(h.push(r),i=r)}return i.x!==r.x&&i.y!==r.y&&h.push(r),h}function d(t,e=.9,n=0,a=0){let l=!1;if("string"==typeof e&&(l=!0,e=parseFloat(e)),t.length<4||(!l&&e)>=1)return t;let r=e;if(!l){if(r=1-e,e>.5&&(r/=2),!n&&!a){let e=o(t,12);({width:n,height:a}=u(e))}r=(r*((n+a)/2/100))**2}const s=(t,e,n)=>{let a=e.x,l=e.y,r=n.x-a,s=n.y-l;if(0!==r||0!==s){let e=((t.x-a)*r+(t.y-l)*s)/(r*r+s*s);e>1?(a=n.x,l=n.y):e>0&&(a+=r*e,l+=s*e)}return(t.x-a)**2+(t.y-l)**2};let i=[t[0]],h=[];for(h.push([0,t.length-1]);h.length>0;){let[e,n]=h.pop(),a=r,l=-1;for(let r=e+1;r<n;r++){let i=s(t[r],t[e],t[n]);i>a&&(l=r,a=i)}a>r?(h.push([l,n]),h.push([e,l])):i.push(t[n])}return i}function m(t,e=1,n=0,a=0){let l=!1;if("string"==typeof e&&(l=!0,e=parseFloat(e)),t.length<4||(!l&&e)>=1)return t;let r=function(t){const e=new M;for(let n=0,a=t.length;n<a;n++){let l=0===n?a-1:n-1,r=n,s=n===a-1?0:n+1,i=t[l],h=t[r],o=t[s],u=n>0||n===a-1?h.area?h.area:p([i,h,o]):1/0;h.prev=l,h.index=r,h.next=s,h.area=u,h.heapIndex=n>0?e.push(u,r):0}return e}(t);if(!n&&!a){let e=reducePoints(t,12);({width:n,height:a}=getPolyBBox(e))}let s=e;if(!l){s=((1-e)*((n+a)/2/100))**2}const i=(t,e,n)=>{let a=t[e];if(null===a.prev||null===a.next)return;let l=p([t[a.prev],a,t[a.next]]);a.area=l,void 0!==a.heapIndex?n.update(a.heapIndex,l):a.heapIndex=n.push(l,e)};let h=0,o=t.length;for(;r.size()>0;){const{area:e,index:n}=r.pop(),a=t[n];e&&e<h?a.area=h:h=e,0!==n&&(t[a.prev].next=a.next,i(t,a.prev,r)),n!==o-1&&(t[a.next].prev=a.prev,i(t,a.next,r))}let u=[];for(let e=0,n=t.length;e<n;e++){let a=t[e];(!a.area||0===e||e===n-1||a.area>=s)&&u.push(a)}return u}class M{constructor(){this.heap=[],this.indexMap=new Map}push(t,e){const n={area:t,index:e};this.heap.push(n);const a=this.heap.length-1;return this.indexMap.set(e,a),this.bubbleUp(a),a}pop(){if(0===this.heap.length)return null;const t=this.heap[0],e=this.heap.pop();return this.heap.length>0&&(this.heap[0]=e,this.indexMap.set(e.index,0),this.bubbleDown(0)),this.indexMap.delete(t.index),t}update(t,e){if("number"!=typeof t||t<0||t>=this.heap.length)return;const n=this.heap[t].area;this.heap[t].area=e,e<n?this.bubbleUp(t):this.bubbleDown(t)}size(){return this.heap.length}bubbleUp(t){for(;t>0;){const e=Math.floor((t-1)/2);if(this.heap[e].area<=this.heap[t].area)break;this.swap(t,e),t=e}}bubbleDown(t){for(;;){const e=2*t+1,n=2*t+2;let a=t;if(e<this.heap.length&&this.heap[e].area<this.heap[a].area&&(a=e),n<this.heap.length&&this.heap[n].area<this.heap[a].area&&(a=n),a===t)break;this.swap(t,a),t=a}}swap(t,e){[this.heap[t],this.heap[e]]=[this.heap[e],this.heap[t]],this.indexMap.set(this.heap[t].index,t),this.indexMap.set(this.heap[e].index,e)}}function v(t,e=0){if(t.length<=3||!e||t.length<=e)return t;let n=t,a=Math.ceil(t.length/e),l=n.length;for(let t=0;n.length>e&&t<a;t++){if(n=r(n,e,.5,!0,!1),l===n.length)break;l=n.length}function r(t,e=0,n=.5,a=!0,l=!1){let r,s=function(t){let e=[];for(let n=0;n<t.length;n++){let a=0===n?t.length-1:n-1,l=n,r=n===t.length-1?0:n+1,s=p([t[a],t[l],t[r]]),i=a,h=r;e.push({index:n,area:s,prev:i,next:h})}return e}(t),i=s.length,h=[];if(l){r=s.map((t=>t.area)).reduce(((t,e)=>t+e),0)/i*.25,a=!1}a&&s.sort(((t,e)=>t.area-e.area));let o=t.length-e,u=new Set;o=Math.floor(o*n)+1;let f=0;for(let t=0;t<o;t++){let e=s[t],{index:a,area:i,prev:h,next:o}=e,p=s[h],y=s[o],[c,x]=[p.area,y.area];l?a>0&&i<r&&f<a&&(u.add(a),f=o):(1===n||i<c&&i<x)&&(f=a,a>0&&(u.add(a),f=a))}for(let e=0;e<t.length;e++)u.has(e)||h.push(t[e]);return h}return n.length>e&&(n=r(n,e,1)),n}function b(t,{quality:e=1,RC:n=!0,RDP:a=!0,VW:l=!1,RD:s=!0,mercator:M=!1,unite:b=!1,overrideQuality:w=!1,optimizeStartingPoint:A=!0,maxPoints:P=0,skipPoints:k=!1,outputFormat:S="points",scale:$=1,alignToZero:L=!1,translateX:I=0,translateY:z=0,scaleToWidth:O=0,scaleToHeight:j=0,meta:D=!1,decimals:F=-1,toRelative:C=!1,toShorthands:N=!1,minifyString:Z=!1}={}){try{t=r(t)}catch{return console.warn("invalid input"),t=[{x:0,y:0}]}let R,E=e,W=!1,H=!1;if("string"==typeof e&&(E=parseFloat(e),R=e.replace(E.toString(),"").trim(),R?"v"===R?(P=E,H=!0,e=.8):W=!0:e=E<=1?E:.8),P){const n=(t,e,n)=>Math.min(Math.max(t,e),n);let a=+(t.length/P/100).toFixed(1);e=(e=n(e=Math.abs(1-a),.4,.8))>0&&e<1?e:.8}let J=t[0].length>1,V=J?t:[t],q=[],T=[],U=0,B=[];for(let t=0,e=V.length;t<e;t++){let e=o(V[t],64);B.push(u(e));let n=p(e);U+=n,T.push(n)}for(let t=0,r=V.length;t<r;t++){let r=V[t],p=T[t]/U,u=H?Math.ceil(P*p):0;if(!r.length)return[];let c=r;if(r.length<3){q.push(c);continue}if(M&&(c=y(c)),k&&!a&&!l&&!s&&H){c=o(r,u),q.push(c);continue}if(w||(e>=1&&(a=!1),e>=.75&&(s=!1),e<.5&&(s=!0)),c=A?h(c):c,n){if(!W&&e>1){q.push(c);continue}c=x(c)}if(b&&(c=f(c)),n){i(c)&&(l=!1,a=!1)}let{width:S,height:$}=B[t];if(s&&c.length>u&&(c=g(c,e,S,$)),a&&c.length>u&&(c=d(c,e,S,$)),l&&c.length>u&&(c=m(c,e,S,$)),H&&c.length>u){(c.length-u)/c.length>.25&&(c=g(c,e,S,$)),c=v(c,u)}q.push(c)}let Q=c(V,q,S,D,F,C,N,Z,$,I,z,L,O,j,J);return D?Q:Q.data}"undefined"!=typeof window&&(window.polySimplify=b,window.normalizePointInput=r),exports.normalizePointInput=r,exports.pathDataToD=l,exports.polySimplify=b,exports.simplifyRC=x,exports.simplifyRD=g,exports.simplifyRDP=d;
