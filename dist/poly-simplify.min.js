!function(t){"use strict";function e(t){return function(t){let e=[{type:"M",values:t[0].values}],n=e[0];for(let a=1,l=t.length;a<l;a++){let l=t[a],{type:r,values:i}=l,s=i.length,h=n.values,o=h.length,[p,u]=[i[s-2],i[s-1]],[f,y]=[h[o-2],h[o-1]];switch(r){case"H":n={type:"L",values:[i[0],y]};break;case"V":n={type:"L",values:[f,i[0]]};break;case"z":case"Z":n={type:"Z",values:[]};break;case"M":n={type:"M",values:[i[0],i[1]]};break;default:n={type:"L",values:[p,u]}}e.push(n)}return e}(a(function(t,e=!0){const n={77:2,109:2,65:7,97:7,67:6,99:6,72:1,104:1,76:2,108:2,81:4,113:4,83:4,115:4,84:2,116:2,86:1,118:1,90:0,122:0};let a=new Set([...Object.keys(n).map(Number)]);const l=new Set([5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279]);function r(t){return 10===t||13===t||8232===t||8233===t||44===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&l.has(t)>=0}function i(t){return a.has(t)}let s,h=0,o=t.length,p="",u=[],f=-1,y="",c=!1,g=!1,x=0,d=0,m=0,M=!1,v=[];const b=()=>{M&&("M"===p?p="L":"m"===p&&(p="l"),u.push({type:p,values:[]}),f++,d=0,M=!1)},w=(t=!1)=>{(t?x>0:""!==y)&&(e&&-1===f&&(s="Pathdata must start with M command",v.push(s),p="M",u.push({type:p,values:[]}),m=2,d=0,f++),"A"===p||"a"===p?(y=A(),u[f].values.push(...y)):(e&&y[1]&&"."!==y[1]&&"0"===y[0]&&(s="Leading zeros not valid: "+y,v.push(s)),u[f].values.push(+y)),d++,y="",x=0,M=d>=m)},A=()=>{let t=y.length,e=!1;return 3===d&&2===t||4===d&&t>1?(y=[+y[0],+y[1]],e=!0,d++):3===d&&t>=3&&(y=[+y[0],+y[1],+y.substring(2)],e=!0,d+=2),e?y:[+y]},P=()=>{if(e){let t=f>0?u[f]:0,e=t?t.values.length:0;(e&&e<m||e&&e>m||("z"===p||"Z"===p)&&e>0)&&(s=`Pathdata commands in "${p}" (segment index: ${f}) don't match allowed number of values: ${m-e}/${m}`,v.push(s))}};for(;h<o;){let e=t[h],a=t.charCodeAt(h);if(i(a)){""!==y&&(u[f].values.push(+y),d++,y=""),P(),p=e,m=n[a];let t="M"===p||"m"===p;f>0&&("z"===u[f].type||"Z"===u[f].type)&&!t&&(u.push({type:"m",values:[0,0]}),f++),u.push({type:p,values:[]}),f++,g=!1,x=0,d=0,M=!1,h++}else if(r(a))w(),g=!0,c=!1,h++;else{if(h===o-1){y+=e,w(),g=!1,c=!1,P();break}if(!c&&!g&&45===a||!c&&46===a){let t=46===a;w(t),b(),t&&x++}else b();y+=e,c=69===a||101===a,g=!1,h++}}if(P(),u[0].type="M",e&&v.length){if(s="Invalid path data:\n"+v.join("\n"),"log"!==e)throw new Error(s);console.warn(s)}return u}(t),!1))}function n(t){let e=[{x:t[0].values[0],y:t[0].values[1]}];for(let n=1,a=t.length;n<a;n++){let{values:a}=t[n];if(a.length){let t=a.slice(-2);e.push({x:t[0],y:t[1]})}}return e}function a(t,e=!1){let n=t[0].values,a=n[0],l=n[1],r=a,i=l;for(let n=1,s=t.length;n<s;n++){let s=t[n],{type:h,values:o}=s,p=e?h.toLowerCase():h.toUpperCase();if(h!==p)switch(h=p,s.type=h,h){case"a":case"A":o[5]=e?o[5]-a:o[5]+a,o[6]=e?o[6]-l:o[6]+l;break;case"v":case"V":o[0]=e?o[0]-l:o[0]+l;break;case"h":case"H":o[0]=e?o[0]-a:o[0]+a;break;case"m":case"M":e?(o[0]-=a,o[1]-=l):(o[0]+=a,o[1]+=l),r=e?o[0]+a:o[0],i=e?o[1]+l:o[1];break;default:if(o.length)for(let t=0;t<o.length;t++)o[t]=e?o[t]-(t%2?l:a):o[t]+(t%2?l:a)}let u=o.length;switch(h){case"z":case"Z":a=r,l=i;break;case"h":case"H":a=e?a+o[0]:o[0];break;case"v":case"V":l=e?l+o[0]:o[0];break;case"m":case"M":r=o[u-2]+(e?a:0),i=o[u-1]+(e?l:0);default:a=o[u-2]+(e?a:0),l=o[u-1]+(e?l:0)}}return t[0].type="M",t=t.map((t=>({type:t.type,values:t.values.map((t=>+t.toFixed(9)))})))}function l(t,e=-1,n=!1,l=!1){return l&&(t=function(t){let e,n=[{type:"M",values:t[0].values}],a=n[0],l={x:t[0].values[0],y:t[0].values[1]},r=.01;for(let i=1,s=t.length;i<s;i++){let s=t[i],{type:h,values:o}=s,p=o.length?o.slice(-2):[];e={x:p[0],y:p[1]};let u=Math.abs(e.x-l.x),f=Math.abs(e.y-l.y),y=(u+f)/2*r;switch(h){case"L":a=0===f||f<y&&u>y?{type:"H",values:[o[0]]}:0===u||f>y&&u<y?{type:"V",values:[o[1]]}:s;break;case"M":case"Z":case"z":a={type:h,values:p};break;default:a={type:"L",values:p}}l={x:p[0],y:p[1]},n.push(a)}return n}(t)),n&&(t=function(t){return a(t,!0)}(t)),e>-1&&(t=t.map((t=>({type:t.type,values:t.values.map((t=>+t.toFixed(e)))})))),t}function r(t,e=1){let n=e>1,a=!n&&0!==e;"l"===(t=JSON.parse(JSON.stringify(t)))[1].type&&a&&(t[0].type="m");let l="";l=n?`${t[0].type} ${t[0].values.join(" ")}\n`:`${t[0].type}${t[0].values.join(" ")}`;for(let e=1,r=t.length;e<r;e++){let r=t[e-1],i=t[e],{type:s,values:h}=i;if(!a||"A"!==s&&"a"!==s||(h=[h[0],h[1],h[2],`${h[3]}${h[4]}${h[5]}`,h[6]]),s=r.type===i.type&&"m"!==i.type.toLowerCase()&&a||("m"===r.type&&"l"===i.type||"M"===r.type&&"l"===i.type||"M"===r.type&&"L"===i.type)&&a?" ":i.type,a){let t="",e=!1;for(let n=0,a=h.length;n<a;n++){let a=h[n],l=a.toString(),r=l.includes(".")&&Math.abs(a)<1;r&&e&&(l=l.replace(/^0\./,".")),!(n>0)||e&&r||(t+=" "),t+=l,e=r}l+=`${s}${t}`}else l+=n?`${s} ${h.join(" ")}\n`:`${s}${h.join(" ")}`}return a&&(l=l.replace(/ 0\./g," .").replace(/ -/g,"-").replace(/-0\./g,"-.").replace(/Z/g,"z")),l}function i(t){if(!t||!t.length)return[];const a=t=>{let e=[];for(let n=1,a=t.length;n<a;n+=2)e.push({x:t[n-1],y:t[n]});return e};let l=t[0].x||!1;if(l&&t.length>0&&"object"==typeof t[0]&&t[0].constructor!==Object&&(t=>{let e=t.length,n=new Array(e);for(let a=0;a<e;a++)n[a]={x:t[a].x,y:t[a].y}})(t),l)return t;let r="string"==typeof t,i=!1;if(!!r&&(t.startsWith("M")||t.startsWith("m"))){0;let a=e(t),l=function(t){let e=[];try{t.map(((t,e)=>"m"===t.type.toLowerCase()?e:-1)).filter((t=>-1!==t))}catch{console.log("catch",t)}let n=t.map(((t,e)=>"m"===t.type.toLowerCase()?e:-1)).filter((t=>-1!==t));return 1===n.length?[t]:(n.forEach(((a,l)=>{e.push(t.slice(a,n[l+1]))})),e)}(a);i=l.length>1;let r=[];return i?l.forEach((t=>{let e=n(t);r.push(e)})):r=n(a),r}if(!!r&&(t.startsWith("{")||t.startsWith("["))){try{t=JSON.parse(t)}catch{t=JSON.parse(t.replace(/([{,])\s*(\w+)\s*:/g,'$1"$2":'))}r=!1}if(r){if((t=t.trim().split(/,| /).filter(Boolean).map(Number)).filter((t=>isNaN(t))).length)return console.warn("input doesn't contain point data â€“ please, check your input structure for syntax errors"),[]}let s=Array.isArray(t),h=s&&2===t[0].length,o=!h&&s&&Array.isArray(t[0]),p=o&&2===t[0][0].length,u=o&&!p&&t[0].length>2&&!t[0][0].hasOwnProperty("x");if(u||p){let e=[];t.forEach((t=>{let n=u?a(t):t.map((t=>({x:t[0],y:t[1]})));e.push(n)})),t=e}else h&&(t=t.map((t=>({x:t[0],y:t[1]}))));
//!Array.isArray(pts[0]
return!Array.isArray(t[0])&&!t[0].hasOwnProperty("x")&&(t=a(t)),t}function s(t,e){return(e.x-t.x)**2+(e.y-t.y)**2}function h(t){let e=s(t[0],t[1]);for(let n=3,a=t.length;n<a;n++){let a=s(t[n-1],t[n]);if(100/e*Math.abs(e-a)>.1)return!1;e=a}return!0}function o(t,e=null){if(0===t.length)return t;if(e=null===e?function(t,e=24){let n=p(t,e),{width:a,height:l}=f(n),r=((a+l)/2)**2,i=s(t[0],t[t.length-1]);return i<r}(t):e,!e)return t;let n=0;for(let e=1,a=t.length;e<a;e++){let a=t[e],l=t[n];(a.x<l.x||a.x===l.x&&a.y<l.y)&&(n=e)}return t.slice(n).concat(t.slice(0,n))}function p(t,e=48){if(!Array.isArray(t)||t.length<=e)return t;let n=t.length,a=n/e,l=[t[0]];for(let n=0;n<e;n++)l.push(t[Math.floor(n*a)]);let r=l.length;return l[r-1]!==t[n-1]&&(l[r-1]=t[n-1]),l}function u(t,e=!0){let n=0;for(let e=0,a=t.length;a&&e<a;e++){let l=t[e===a-1?0:e+1];n+=t[e].x*l.y*.5-l.x*t[e].y*.5}return e?Math.abs(n):n}function f(t){let e=t.map((t=>t.x)),n=t.map((t=>t.y)),a=Math.min(...e),l=Math.max(...e),r=Math.min(...n),i=Math.max(...n);return{x:a,left:a,right:l,y:r,top:r,bottom:i,width:l-a,height:i-r}}function y(t){const e=(t,e,n)=>{const a=(t,e,n,a)=>{let[l,r,i,s]=[t.x,e.x,n.x,a.x],[h,o,p,u]=[t.y,e.y,n.y,a.y],[f,y]=[l-r,i-s],[c,g]=[h-o,p-u],x=f*g-c*y;if(0===x)return null;let d=l*o-h*r,m=i*u-p*s,M=(d*y-f*m)/x,v=(d*g-c*m)/x;return M<Math.min(l,r)||M>Math.max(l,r)||M<Math.min(i,s)||M>Math.max(i,s)||v<Math.min(h,o)||v>Math.max(h,o)||v<Math.min(p,u)||v>Math.max(p,u)?null:{x:M,y:v}},l=(t,e)=>(t.x-e.x)**2+(t.y-e.y)**2,r=t.length;let i=[],s=l(e,n),h=s/1e3;for(let o=0;o<r;o++){let p=t[o],u=t[(o+1)%r];if(u===n)continue;let f=a(e,n,p,u);if(f){const t=l(e,f);t>h&&t<s&&i.push({pt0:e,pt1:n,startPoint:p,intersectionPoint:f,endPoint:u,lengthSq:t})}}return i.sort(((t,e)=>t.lengthSq-e.lengthSq)),i},n=t.length;if(n<3)return t;for(let e=0;e<n;e++)t[e].next=(e+1)%n;const a=[];let l=t[0],r=t[l.next];a.push(l);for(let i=0;i<2*n;i++){const n=e(t,l,r);if(0===n.length)a.push(r),l=r,r=t[r.next];else{const t=n[0];l=t.intersectionPoint,r=t.endPoint,a.push(l)}if(a.length>2&&l.x===a[0].x&&l.y===a[0].y)break}const i=a[0],s=a[a.length-1];return i.x===s.x&&i.y===s.y&&a.pop(),a}function c(t){if(!function(t){const e=(t,e)=>t>=-180&&t<=180&&e>=-90&&e<=90;let n=[t[0],t[Math.floor(t.length/2)],t[t.length-1]];return n.every((t=>e(t.x,t.y)))}(t))return t;const e=t=>t*(Math.PI/180),n=t=>{let n=Math.max(-85.05112878,Math.min(85.05112878,t.y)),a=t.x;return{x:(e(a)+Math.PI)/(2*Math.PI),y:(Math.PI-Math.log(Math.tan(Math.PI/4+e(n)/2)))/(2*Math.PI)}};let a=t.length,l=[];for(let e=0;e<a;e++)l.push(n(t[e]));let r=f(t),i=f(l),s=r.width/i.width,h=i.x*s-r.x,o=i.y*s-r.y;for(let t=0;t<a;t++)l[t].x=l[t].x*s-h,l[t].y=l[t].y*s-o;return l}function g(t,e,n="points",a=!1,i=-1,h=!1,o=!1,u=!1,y=1,c=0,g=0,x=!1,d=0,m=0,M=!1){let v={data:[],ptsArr:[],countOriginal:0,count:0,areaOriginal:0,areaptsSmp:0,areaDiff:0,isPolygon:[]};e=function(t,e=1,n=0,a=0,l=!1,r=0,i=0){if(1===e&&0===r&&0===i&&0===n&&0===a&&!1===l)return t;let s,h,o,p,u=Array.isArray(t[0]),y=u?t:[t],c=u?t.flat():t;return({x:s,y:h,width:o,height:p}=f(c)),y.forEach(((t,u)=>{e=r?r/o:i?i/p:e,i&&p*e>i&&(e=i/p),l&&(n=-s,a=-h);for(let l=0,r=t.length;l<r;l++){let r=t[l];y[u][l]={x:(r.x+n)*e,y:(r.y+a)*e}}})),y}(e,y,c,g,x,d,m);for(let n=0,l=e.length;n<l;n++){let l=t[n],r=e[n],i=l.length;v.countOriginal+=i;let h=r.length;v.count+=h,v.ptsArr.push(r);let o=!1;if(a){let t=p(l,32),{width:e,height:n}=f(t),a=(Math.max(e,n)/l.length)**2;o=s(l[0],l[l.length-1])<a,v.isPolygon.push(o)}}if(i>-1&&i<=3){let t=e.flat(),n=p(t,24),{width:a,height:l}=f(n),r=(a+l)/2;if(r>500)i=0;else{let e=t.length/r,n=r/1e3,a=Math.ceil(1/n).toString().length,l=Math.ceil(e).toString().length,s=Math.ceil((a+l)/2);i=i>-1&&i<s?s:i}}switch(n=n?n.toLowerCase():"points"){case"points":case"pointstring":case"pointsnested":case"json":i>-1&&(v.ptsArr=v.ptsArr.map((t=>t.map((t=>({x:+t.x.toFixed(i),y:+t.y.toFixed(i)})))))),"pointstring"===n?v.data=v.ptsArr.map((t=>t.map((t=>`${t.x} ${t.y}`)).join(" "))):"points"===n?(M||(v.ptsArr=v.ptsArr[0]),v.data=v.ptsArr):"pointsnested"===n?(v.data=v.ptsArr.map((t=>t.map((t=>[t.x,t.y])))),M||(v.data=v.data[0],v.ptsArr=v.ptsArr[0])):"json"===n&&(M||(v.ptsArr=v.ptsArr[0]),v.data=JSON.stringify(v.ptsArr));break;case"pathdata":case"path":let t=[];v.ptsArr.forEach(((e,n)=>{let a=[{type:"M",values:[e[0].x,e[0].y]},...e.slice(1).map((t=>({type:"L",values:[t.x,t.y]})))];v.isPolygon[n]&&a.push({type:"Z",values:[]}),t.push(...a)})),t=l(t,i,h,o),"path"===n?(v.data=[r(t,u?1:0)],M||(v.data=v.data[0])):v.data=t}return v}function x(t,e=1,n=!0){if(t.length<3)return t;let a=t.length,l=t[0],r=t[a-1];l.x===r.x&&l.y===r.y&&(t.pop(),a--,r=t[a-1]);let i,s,h=[l],o=l,y=f(p(t,32)),{width:c,height:g}=y,x=(c+g)/2/(e?5*a*e:250),d=2.5*x,m=null,M=null;for(let e=2;e<a;e++){i=t[e-1],s=t[e];let n=e===a-1;if(i.x===o.x&&i.y===o.y||i.x===s.x&&i.y===s.y)continue;let r=o.x===i.x,p=o.y===i.y;if(r||p){let t=i.x===s.x,e=i.y===s.y;if(r&&t||p&&e){if(!n)continue;if(n&&l.x!==s.x&&l.y!==s.y){h.push(s);continue}}}m=i.x-o.x,M=i.y-o.y;let f=s.x-i.x,y=s.y-i.y,c=Math.abs(m*y-M*f);if(c>x&&c<d){u([o,i,s])<x&&(c=0)}if(!r&&!p&&c<x){if(!n)continue;if(n&&l.x!==s.x&&l.y!==s.y){let t=s.x-l.x,e=s.y-l.y;Math.abs(t*y-e*f)>x&&h.push(s);continue}}else h.push(i),n&&l.x!==s.x&&l.y!==s.y&&h.push(s);o=i}if(h.length>2&&(l.x===r.x&&l.y!==r.y||l.x!==r.x&&l.y===r.y));else if(n&&l.x!==r.x&&l.y!==r.y){s=h[1];let t=s.x-r.x,e=s.y-r.y,n=s.x-l.x,a=s.y-l.y;Math.abs(t*a-e*n)<x&&h.shift()}return h}function d(t,e=.9,n=0,a=0){let l=!1;if("string"==typeof e){l=!0,e=parseFloat(e)}if(t.length<4||(!l&&e)>=1)return t;let r,i=t[0],h=[i],o=e;if(!l){if(o=1-e,!n&&!a){let e=p(t,12);({width:n,height:a}=f(e))}o=(o*((n+a)/2/25))**2,e>.5&&(o/=10)}for(let e=1,n=t.length;e<n;e++){r=t[e],s(i,r)>o&&(h.push(r),i=r)}return i.x!==r.x&&i.y!==r.y&&h.push(r),h}function m(t,e=.9,n=0,a=0){let l=!1;if("string"==typeof e&&(l=!0,e=parseFloat(e)),t.length<4||(!l&&e)>=1)return t;let r=e;if(!l){if(r=1-e,e>.5&&(r/=2),!n&&!a){let e=p(t,12);({width:n,height:a}=f(e))}r=(r*((n+a)/2/100))**2}const i=(t,e,n)=>{let a=e.x,l=e.y,r=n.x-a,i=n.y-l;if(0!==r||0!==i){let e=((t.x-a)*r+(t.y-l)*i)/(r*r+i*i);e>1?(a=n.x,l=n.y):e>0&&(a+=r*e,l+=i*e)}return(t.x-a)**2+(t.y-l)**2};let s=[t[0]],h=[];for(h.push([0,t.length-1]);h.length>0;){let[e,n]=h.pop(),a=r,l=-1;for(let r=e+1;r<n;r++){let s=i(t[r],t[e],t[n]);s>a&&(l=r,a=s)}a>r?(h.push([l,n]),h.push([e,l])):s.push(t[n])}return s}function M(t,e=1,n=0,a=0){let l=!1;if("string"==typeof e&&(l=!0,e=parseFloat(e)),t.length<4||(!l&&e)>=1)return t;let r=function(t){const e=new v;for(let n=0,a=t.length;n<a;n++){let l=0===n?a-1:n-1,r=n,i=n===a-1?0:n+1,s=t[l],h=t[r],o=t[i],p=n>0||n===a-1?h.area?h.area:u([s,h,o]):1/0;h.prev=l,h.index=r,h.next=i,h.area=p,h.heapIndex=n>0?e.push(p,r):0}return e}(t);if(!n&&!a){let e=reducePoints(t,12);({width:n,height:a}=getPolyBBox(e))}let i=e;if(!l){i=((1-e)*((n+a)/2/100))**2}const s=(t,e,n)=>{let a=t[e];if(null===a.prev||null===a.next)return;let l=u([t[a.prev],a,t[a.next]]);a.area=l,void 0!==a.heapIndex?n.update(a.heapIndex,l):a.heapIndex=n.push(l,e)};let h=0,o=t.length;for(;r.size()>0;){const{area:e,index:n}=r.pop(),a=t[n];e&&e<h?a.area=h:h=e,0!==n&&(t[a.prev].next=a.next,s(t,a.prev,r)),n!==o-1&&(t[a.next].prev=a.prev,s(t,a.next,r))}let p=[];for(let e=0,n=t.length;e<n;e++){let a=t[e];(!a.area||0===e||e===n-1||a.area>=i)&&p.push(a)}return p}class v{constructor(){this.heap=[],this.indexMap=new Map}push(t,e){const n={area:t,index:e};this.heap.push(n);const a=this.heap.length-1;return this.indexMap.set(e,a),this.bubbleUp(a),a}pop(){if(0===this.heap.length)return null;const t=this.heap[0],e=this.heap.pop();return this.heap.length>0&&(this.heap[0]=e,this.indexMap.set(e.index,0),this.bubbleDown(0)),this.indexMap.delete(t.index),t}update(t,e){if("number"!=typeof t||t<0||t>=this.heap.length)return;const n=this.heap[t].area;this.heap[t].area=e,e<n?this.bubbleUp(t):this.bubbleDown(t)}size(){return this.heap.length}bubbleUp(t){for(;t>0;){const e=Math.floor((t-1)/2);if(this.heap[e].area<=this.heap[t].area)break;this.swap(t,e),t=e}}bubbleDown(t){for(;;){const e=2*t+1,n=2*t+2;let a=t;if(e<this.heap.length&&this.heap[e].area<this.heap[a].area&&(a=e),n<this.heap.length&&this.heap[n].area<this.heap[a].area&&(a=n),a===t)break;this.swap(t,a),t=a}}swap(t,e){[this.heap[t],this.heap[e]]=[this.heap[e],this.heap[t]],this.indexMap.set(this.heap[t].index,t),this.indexMap.set(this.heap[e].index,e)}}function b(t,e=0){if(t.length<=3||!e||t.length<=e)return t;let n=t,a=Math.ceil(t.length/e),l=n.length;for(let t=0;n.length>e&&t<a;t++){if(n=r(n,e,.5,!0,!1),l===n.length)break;l=n.length}function r(t,e=0,n=.5,a=!0,l=!1){let r,i=function(t){let e=[];for(let n=0;n<t.length;n++){let a=0===n?t.length-1:n-1,l=n,r=n===t.length-1?0:n+1,i=u([t[a],t[l],t[r]]),s=a,h=r;e.push({index:n,area:i,prev:s,next:h})}return e}(t),s=i.length,h=[];if(l){r=i.map((t=>t.area)).reduce(((t,e)=>t+e),0)/s*.25,a=!1}a&&i.sort(((t,e)=>t.area-e.area));let o=t.length-e,p=new Set;o=Math.floor(o*n)+1;let f=0;for(let t=0;t<o;t++){let e=i[t],{index:a,area:s,prev:h,next:o}=e,u=i[h],y=i[o],[c,g]=[u.area,y.area];l?a>0&&s<r&&f<a&&(p.add(a),f=o):(1===n||s<c&&s<g)&&(f=a,a>0&&(p.add(a),f=a))}for(let e=0;e<t.length;e++)p.has(e)||h.push(t[e]);return h}return n.length>e&&(n=r(n,e,1)),n}function w(t,{quality:e=1,RC:n=!0,RDP:a=!0,VW:l=!1,RD:r=!0,mercator:s=!1,unite:v=!1,overrideQuality:w=!1,optimizeStartingPoint:A=!0,maxPoints:P=0,skipPoints:k=!1,outputFormat:S="points",scale:$=1,alignToZero:L=!1,translateX:I=0,translateY:z=0,scaleToWidth:O=0,scaleToHeight:j=0,meta:D=!1,decimals:F=-1,toRelative:C=!1,toShorthands:N=!1,minifyString:Z=!1}={}){try{t=i(t)}catch{return console.warn("invalid input"),t=[{x:0,y:0}]}let R,E=e,W=!1,H=!1;if("string"==typeof e&&(E=parseFloat(e),R=e.replace(E.toString(),"").trim(),R?"v"===R?(P=E,H=!0,e=.8):W=!0:e=E<=1?E:.8),P){const n=(t,e,n)=>Math.min(Math.max(t,e),n);let a=+(t.length/P/100).toFixed(1);e=(e=n(e=Math.abs(1-a),.4,.8))>0&&e<1?e:.8}let J=t[0].length>1,V=J?t:[t],q=[],T=[],U=0,B=[];for(let t=0,e=V.length;t<e;t++){let e=p(V[t],64);B.push(f(e));let n=u(e);U+=n,T.push(n)}for(let t=0,i=V.length;t<i;t++){let i=V[t],u=T[t]/U,f=H?Math.ceil(P*u):0;if(!i.length)return[];let g=i;if(i.length<3){q.push(g);continue}if(s&&(g=c(g)),k&&!a&&!l&&!r&&H){g=p(i,f),q.push(g);continue}if(w||(e>=1&&(a=!1),e>=.75&&(r=!1),e<.5&&(r=!0)),g=A?o(g):g,n){if(!W&&e>1){q.push(g);continue}g=x(g)}if(v&&(g=y(g)),n){h(g)&&(l=!1,a=!1)}let{width:S,height:$}=B[t];if(r&&g.length>f&&(g=d(g,e,S,$)),a&&g.length>f&&(g=m(g,e,S,$)),l&&g.length>f&&(g=M(g,e,S,$)),H&&g.length>f){(g.length-f)/g.length>.25&&(g=d(g,e,S,$)),g=b(g,f)}q.push(g)}let Q=g(V,q,S,D,F,C,N,Z,$,I,z,L,O,j,J);return D?Q:Q.data}"undefined"!=typeof window&&(window.polySimplify=w,window.normalizePointInput=i),t.normalizePointInput=i,t.pathDataToD=r,t.polySimplify=w,t.simplifyRC=x,t.simplifyRD=d,t.simplifyRDP=m}(this["poly-simplify"]=this["poly-simplify"]||{});
